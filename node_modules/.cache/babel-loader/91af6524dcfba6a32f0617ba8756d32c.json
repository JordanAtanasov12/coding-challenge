{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar net_1 = __importDefault(require(\"net\"));\n\nvar json_rpc_provider_1 = require(\"./json-rpc-provider\");\n\nvar properties_1 = require(\"../utils/properties\");\n\nvar errors = __importStar(require(\"../errors\"));\n\nvar IpcProvider =\n/** @class */\nfunction (_super) {\n  __extends(IpcProvider, _super);\n\n  function IpcProvider(path, network) {\n    var _this = this;\n\n    if (path == null) {\n      errors.throwError('missing path', errors.MISSING_ARGUMENT, {\n        argument: 'path'\n      });\n    }\n\n    _this = _super.call(this, 'ipc://' + path, network) || this;\n    errors.checkNew(_this, IpcProvider);\n    properties_1.defineReadOnly(_this, 'path', path);\n    return _this;\n  } // @TODO: Create a connection to the IPC path and use filters instead of polling for block\n\n\n  IpcProvider.prototype.send = function (method, params) {\n    // This method is very simple right now. We create a new socket\n    // connection each time, which may be slower, but the main\n    // advantage we are aiming for now is security. This simplifies\n    // multiplexing requests (since we do not need to multiplex).\n    var _this = this;\n\n    var payload = JSON.stringify({\n      method: method,\n      params: params,\n      id: 42,\n      jsonrpc: \"2.0\"\n    });\n    return new Promise(function (resolve, reject) {\n      var response = Buffer.alloc(0);\n      var stream = net_1.default.connect(_this.path);\n      stream.on('data', function (data) {\n        response = Buffer.concat([response, data]);\n      });\n      stream.on(\"end\", function () {\n        try {\n          var payload_1 = JSON.parse(response.toString('utf8'));\n\n          if (payload_1.error) {\n            var error = new Error(payload_1.error.message);\n            error.code = payload_1.error.code;\n            error.data = payload_1.error.data;\n            reject(error);\n          } else {\n            resolve(payload_1.result);\n          }\n\n          stream.destroy();\n        } catch (error) {\n          reject(error);\n          stream.destroy();\n        }\n      });\n      stream.on('error', function (error) {\n        reject(error);\n        stream.destroy();\n      });\n      stream.write(payload);\n      stream.end();\n    });\n  };\n\n  return IpcProvider;\n}(json_rpc_provider_1.JsonRpcProvider);\n\nexports.IpcProvider = IpcProvider;","map":{"version":3,"names":["__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","__importStar","result","k","call","defineProperty","exports","value","net_1","require","json_rpc_provider_1","properties_1","errors","IpcProvider","_super","path","network","_this","throwError","MISSING_ARGUMENT","argument","checkNew","defineReadOnly","send","method","params","payload","JSON","stringify","id","jsonrpc","Promise","resolve","reject","response","Buffer","alloc","stream","default","connect","on","data","concat","payload_1","parse","toString","error","Error","message","code","destroy","write","end","JsonRpcProvider"],"sources":["/Users/jatanasov/Documents/Projects/Colony/coding-challenge-events-list-bootstrap/node_modules/ethers/providers/ipc-provider.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar net_1 = __importDefault(require(\"net\"));\nvar json_rpc_provider_1 = require(\"./json-rpc-provider\");\nvar properties_1 = require(\"../utils/properties\");\nvar errors = __importStar(require(\"../errors\"));\nvar IpcProvider = /** @class */ (function (_super) {\n    __extends(IpcProvider, _super);\n    function IpcProvider(path, network) {\n        var _this = this;\n        if (path == null) {\n            errors.throwError('missing path', errors.MISSING_ARGUMENT, {\n                argument: 'path'\n            });\n        }\n        _this = _super.call(this, 'ipc://' + path, network) || this;\n        errors.checkNew(_this, IpcProvider);\n        properties_1.defineReadOnly(_this, 'path', path);\n        return _this;\n    }\n    // @TODO: Create a connection to the IPC path and use filters instead of polling for block\n    IpcProvider.prototype.send = function (method, params) {\n        // This method is very simple right now. We create a new socket\n        // connection each time, which may be slower, but the main\n        // advantage we are aiming for now is security. This simplifies\n        // multiplexing requests (since we do not need to multiplex).\n        var _this = this;\n        var payload = JSON.stringify({\n            method: method,\n            params: params,\n            id: 42,\n            jsonrpc: \"2.0\"\n        });\n        return new Promise(function (resolve, reject) {\n            var response = Buffer.alloc(0);\n            var stream = net_1.default.connect(_this.path);\n            stream.on('data', function (data) {\n                response = Buffer.concat([response, data]);\n            });\n            stream.on(\"end\", function () {\n                try {\n                    var payload_1 = JSON.parse(response.toString('utf8'));\n                    if (payload_1.error) {\n                        var error = new Error(payload_1.error.message);\n                        error.code = payload_1.error.code;\n                        error.data = payload_1.error.data;\n                        reject(error);\n                    }\n                    else {\n                        resolve(payload_1.result);\n                    }\n                    stream.destroy();\n                }\n                catch (error) {\n                    reject(error);\n                    stream.destroy();\n                }\n            });\n            stream.on('error', function (error) {\n                reject(error);\n                stream.destroy();\n            });\n            stream.write(payload);\n            stream.end();\n        });\n    };\n    return IpcProvider;\n}(json_rpc_provider_1.JsonRpcProvider));\nexports.IpcProvider = IpcProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}